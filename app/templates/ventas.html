{% extends "base.html" %}

{% block title %}Ventas{% endblock %}

{% block content %}
<!-- Content Header (Page header) -->
<div class="content-header">
    <div class="container-fluid">
        <div class="row mb-2">
            <div class="col-sm-6">
                <h1 class="m-0">Realizar Venta</h1>
            </div>
            <!-- /.col -->
        </div>
        <!-- /.row -->
    </div>
    <!-- /.container-fluid -->
</div>

<!-- Main content -->
<div class="content">
    <div class="container-fluid">
        <div class="row">
            <div class="col-lg-6">
                <div class="card card-gray-dark ">
                    <div class="card-header">
                        <h3 class="card-title">
                            <i class="mr-2">
                                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor"
                                    class="bi bi-basket3-fill" viewBox="0 0 16 16">
                                    <path
                                        d="M5.757 1.071a.5.5 0 0 1 .172.686L3.383 6h9.234L10.07 1.757a.5.5 0 1 1 .858-.514L13.783 6H15.5a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5H.5a.5.5 0 0 1-.5-.5v-1A.5.5 0 0 1 .5 6h1.717L5.07 1.243a.5.5 0 0 1 .686-.172zM2.468 15.426.943 9h14.114l-1.525 6.426a.75.75 0 0 1-.729.574H3.197a.75.75 0 0 1-.73-.574z" />
                                </svg>
                            </i>
                            Productos a vender
                        </h3>
                    </div>

                    <div class="card-body" style="height: 785px;">
                        <div class="card">
                            <div class="card-body table-responsive p-0" style="height: 680px;">
                                <table id="tablaProductos" class="table table-head-fixed text-nowrap">
                                    <thead>
                                        <tr>
                                            <th style="display: none;">ID</th>
                                            <th class="bg-gray-dark border text-center">Código</th>
                                            <th class="bg-gray-dark border">Descripción</th>
                                            <th class="bg-gray-dark border text-center">Precio Unitario</th>
                                            <th class="bg-gray-dark border text-center">Cantidad</th>
                                            <th class="bg-gray-dark border text-center">SubTotal</th>
                                            <th class="bg-gray-dark border text-center align-middle">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22"
                                                    fill="currentColor" class="bi bi-bag-x-fill" viewBox="0 0 16 16">
                                                    <path fill-rule="evenodd"
                                                        d="M10.5 3.5a2.5 2.5 0 0 0-5 0V4h5zm1 0V4H15v10a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V4h3.5v-.5a3.5 3.5 0 1 1 7 0M6.854 8.146a.5.5 0 1 0-.708.708L7.293 10l-1.147 1.146a.5.5 0 0 0 .708.708L8 10.707l1.146 1.147a.5.5 0 0 0 .708-.708L8.707 10l1.147-1.146a.5.5 0 0 0-.708-.708L8 9.293z" />
                                                </svg>
                                            </th>
                                        </tr>
                                    </thead>
                                    <tbody>

                                    </tbody>
                                </table>
                            </div>
                            <!-- /.card-body -->
                        </div>
                        <!-- /.card -->
                        <div class="d-flex justify-content-end align-items-center mt-3">
                            <label for="totalVenta" class="h4 mb-0 mr-2">Total:</label>
                            <input type="text" id="totalVenta" class="form-control text-right font-weight-bold"
                                value="0.00" disabled style="width: 180px; font-size: 1.5rem; height: 50px;">
                        </div>
                    </div>
                    <!-- /.card-body -->
                </div>
                <!-- /.card -->
            </div>
            <div class="col-lg-6">
                <div class="card card-gray-dark ">
                    <div class="card-header">
                        <h3 class="card-title">
                            <i class="mr-2">
                                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor"
                                    class="bi bi-info-circle-fill" viewBox="0 0 16 16">
                                    <path
                                        d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16m.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2" />
                                </svg>
                            </i>
                            Información de venta
                        </h3>
                    </div>
                    <!-- /.card-header -->
                    <div class="card-body" style="height: 785px;">
                        <div class="row">
                            <div class="col-lg-12">
                                <div class="card card-white ">
                                    <div class="card-header d-flex justify-content-between align-items-center">
                                        <!-- Título alineado a la izquierda -->
                                        <label class="h5 mb-0 d-flex align-items-center">
                                            <i class="mr-2">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                                                    fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
                                                    <path
                                                        d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0" />
                                                </svg>
                                            </i>
                                            Buscar
                                        </label>

                                        <!-- Botones alineados completamente a la derecha -->
                                        <div class="ml-auto">
                                            <div class="btn-group btn-group-toggle" data-toggle="buttons">
                                                <label class="btn btn-secondary active">
                                                    <input type="radio" name="options" id="option_codigo"
                                                        autocomplete="off" checked>
                                                    Código
                                                </label>
                                                <label class="btn btn-secondary">
                                                    <input type="radio" name="options" id="option_producto"
                                                        autocomplete="off">
                                                    Producto
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- /.card-header -->
                                    <div class="card-body" style="height: 245px;">
                                        <!-- Formulario Código de Barras -->
                                        <div id="codigoForm" class="contenido">
                                            <label for="codigoBarras">Código de Barras:</label>
                                            <input type="text" id="codigoBarras" class="form-control mb-2" autofocus
                                                placeholder="Ingrese el código de barras">
                                        </div>

                                        <!-- Formulario Búsqueda de Producto -->
                                        <div id="productoForm" class="contenido d-none">
                                            <label for="productoSelect">Buscar Producto:</label>
                                            <input type="text" id="buscadorProducto" class="form-control mb-2"
                                                placeholder="Buscar producto por descripción...">

                                            <select id="listaProductos" class="form-select mb-2 w-100" size="4"
                                                aria-label="Lista de productos">
                                                <option value="" disabled selected>Cargando productos...</option>
                                            </select>

                                            <button id="btnAgregarProducto" class="btn btn-primary w-100">Agregar
                                                Producto</button>
                                        </div>
                                    </div>
                                    <!-- /.card-body -->
                                </div>
                            </div>
                        </div>
                        <!-- /.card -->
                        <div class="row">
                            <div class="col-lg-12">
                                <div class="card card-white ">
                                    <div class="card-header d-flex justify-content-between align-items-center">
                                        <!-- Título alineado a la izquierda -->
                                        <label class="h5 mb-0 d-flex align-items-center">
                                            <i class="mr-2">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                                                    fill="currentColor" class="bi bi-file-text-fill"
                                                    viewBox="0 0 16 16">
                                                    <path
                                                        d="M12 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2M5 4h6a.5.5 0 0 1 0 1H5a.5.5 0 0 1 0-1m-.5 2.5A.5.5 0 0 1 5 6h6a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5M5 8h6a.5.5 0 0 1 0 1H5a.5.5 0 0 1 0-1m0 2h3a.5.5 0 0 1 0 1H5a.5.5 0 0 1 0-1" />
                                                </svg>
                                            </i>
                                            Documento
                                        </label>

                                        <!-- Botones alineados completamente a la derecha -->
                                        <div class="ml-auto">
                                            <div class="btn-group btn-group-toggle" data-toggle="buttons">
                                                <label class="btn btn-secondary active">
                                                    <input type="radio" name="tipo_venta" id="option_boleta" autocomplete="off">
                                                    Boleta
                                                </label>
                                                <label class="btn btn-secondary">
                                                    <input type="radio" name="tipo_venta" id="option_factura" autocomplete="off">
                                                    Factura
                                                </label>
                                            </div>
                                            
                                        </div>
                                    </div>
                                    <!-- /.card-header -->
                                    <div class="card-body">
                                        <!-- Formulario Boleta -->
                                        <div id="boletaForm" class="contenido">
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <label for="dni">DNI:</label>
                                                    <input type="text" id="dni" class="form-control"
                                                        placeholder="Ingrese DNI">
                                                </div>
                                                <div class="col-md-6">
                                                    <label for="nombre">Nombre:</label>
                                                    <input type="text" id="nombre" class="form-control"
                                                        placeholder="Ingrese Nombre">
                                                </div>
                                            </div>
                                        </div>

                                        <!-- Formulario Factura -->
                                        <div id="facturaForm" class="contenido d-none">
                                            <div class="row">
                                                <div class="col-md-4">
                                                    <label for="ruc">RUC:</label>
                                                    <input type="text" id="ruc" class="form-control"
                                                        placeholder="Ingrese RUC">
                                                </div>
                                                <div class="col-md-4">
                                                    <label for="razonSocial">Razón Social:</label>
                                                    <input type="text" id="razonSocial" class="form-control"
                                                        placeholder="Ingrese Razón Social">
                                                </div>
                                                <div class="col-md-4">
                                                    <label for="direccion">Dirección:</label>
                                                    <input type="text" id="direccion" class="form-control"
                                                        placeholder="Ingrese Dirección">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- /.card-body -->
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-12">
                                <div class="card card-white">
                                    <div class="card-header d-flex justify-content-between align-items-center">
                                        <!-- Título alineado a la izquierda -->
                                        <label class="h5 mb-0 d-flex align-items-center">
                                            <i class="mr-2">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                                                    fill="currentColor" class="bi bi-cash-stack" viewBox="0 0 16 16">
                                                    <path
                                                        d="M1 3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1zm7 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4" />
                                                    <path
                                                        d="M0 5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1zm3 0a2 2 0 0 1-2 2v4a2 2 0 0 1 2 2h10a2 2 0 0 1 2-2V7a2 2 0 0 1-2-2z" />
                                                </svg>
                                            </i>
                                            Método de Pago
                                        </label>

                                        <!-- Botones de selección de método de pago -->
                                        <div class="ml-auto">
                                            <div class="btn-group btn-group-toggle" data-toggle="buttons">
                                                <label class="btn btn-secondary active">
                                                    <input type="radio" name="metodo_pago" id="option_efectivo"
                                                        autocomplete="off" checked>
                                                    Efectivo
                                                </label>
                                                <label class="btn btn-secondary">
                                                    <input type="radio" name="metodo_pago" id="option_tarjeta"
                                                        autocomplete="off">
                                                    Tarjeta
                                                </label>
                                                <label class="btn btn-secondary">
                                                    <input type="radio" name="metodo_pago" id="option_yape"
                                                        autocomplete="off">
                                                    Yape
                                                </label>
                                                <label class="btn btn-secondary">
                                                    <input type="radio" name="metodo_pago" id="option_plin"
                                                        autocomplete="off">
                                                    Plin
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- /.card-header -->

                                    <div class="card-body">
                                        <!-- Formulario Efectivo -->
                                        <div id="efectivoForm" class="contenido">
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <label for="montoEntregado">Monto Entregado:</label>
                                                    <input type="number" id="montoEntregado" class="form-control mb-2"
                                                        placeholder="Ingrese el monto entregado">
                                                </div>
                                                <div class="col-md-6">
                                                    <label for="vuelto">Vuelto:</label>
                                                    <input type="number" id="vuelto" class="form-control mb-2" readonly>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- Formulario Tarjeta -->
                                        <div id="tarjetaForm" class="contenido d-none">
                                            <label for="numeroTransferencia">Número de Transferencia:</label>
                                            <input type="text" id="numeroTransferencia" class="form-control mb-2"
                                                placeholder="Ingrese número de transferencia">
                                        </div>

                                        <!-- Formulario Yape -->
                                        <div id="yapeForm" class="contenido d-none">
                                            <label for="numeroYape">Número de Celular:</label>
                                            <input type="text" id="numeroYape" class="form-control mb-2"
                                                placeholder="Ingrese número de celular">
                                        </div>

                                        <!-- Formulario Plin -->
                                        <div id="plinForm" class="contenido d-none">
                                            <label for="numeroPlin">Número de Celular:</label>
                                            <input type="text" id="numeroPlin" class="form-control mb-2"
                                                placeholder="Ingrese número de celular">
                                        </div>
                                    </div>
                                    <!-- /.card-body -->
                                </div>
                            </div>
                        </div>
                        <button id="btnConfirmarPago" class="btn btn-success w-100">Confirmar Pago</button>
                    </div>
                    <!-- /.card-body -->
                </div>
                <!-- /.card -->
            </div>
        </div>
        <!-- /.row -->
    </div>
</div>
<!-- /.content -->

{% endblock %}

{% block script %}
<script src="../static/js/ventas.js"></script>
{% endblock %}